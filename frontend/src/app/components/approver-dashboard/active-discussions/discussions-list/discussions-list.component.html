<div *ngIf="loaded" class="table-responsive">
  <div class="mb-2 mt-3">
    Leitud {{ gridData.content.length }}
  </div>
  <table id="infosystems-table" class="table table-striped table-bordered dataTable" cellspacing="0" width="100%">
    <thead class="thead-default">
    <th>
      <app-sort-button
        [labelText]="'Lühinimi'"
        [sortProperty]="'infosystem_short_name'"
        [gridData]="gridData"
        (buttonClick)="onSortChange($event)"></app-sort-button>
    </th>
    <th>
      <app-sort-button
        [labelText]="'Infosüsteemi nimi'"
        [sortProperty]="'infosystem_full_name'"
        [gridData]="gridData"
        (buttonClick)="onSortChange($event)"></app-sort-button>
    </th>
    <th>
      <app-sort-button
        [labelText]="'Arutelu pealkiri'"
        [sortProperty]="'issue_name'"
        [gridData]="gridData"
        (buttonClick)="onSortChange($event)"></app-sort-button>
    </th>
    <th>
      <app-sort-button
        [labelText]="'Viimase k. aeg'"
        [sortProperty]="'creation_date'"
        [gridData]="gridData"
        (buttonClick)="onSortChange($event)"></app-sort-button>
    </th>
    <th>
      <app-sort-button
        [labelText]="'Viimase k. asutus'"
        [sortProperty]="'creation_date'"
        [gridData]="gridData"
        (buttonClick)="onSortChange($event)"></app-sort-button>
    </th>
    </thead>
    <tbody>
    <tr *ngFor="let ad of gridData.content">
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName]" fragment="tagasiside">{{ ad.infoSystemShortName }}</a></td>
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName]" fragment="tagasiside">{{ ad.infoSystemFullName}}</a></td>
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName, 'Arutelu', ad.id]">{{ ad.title }}</a></td>
      <td><span *ngIf="ad.lastComment">{{ ad.lastComment.dateCreated | datem:'YYYY-MM-DD HH:mm:ss'}}</span></td>
      <td><span *ngIf="ad.lastComment">{{ ad.lastComment.organizationName }}</span></td>
    </tr>
    </tbody>
  </table>
</div>
<div *ngIf="!loaded" class="my-1 text-center">
  <i class="fa fa-spinner fa-3x fa-spin" aria-hidden="true"></i>
</div>
