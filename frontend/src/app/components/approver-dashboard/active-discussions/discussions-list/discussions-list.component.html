<div *ngIf="loaded" class="table-responsive">
  <div class="mb-2 mt-3">
    Leitud {{ gridData.content.length }}
  </div>
  <table id="infosystems-table" class="table table-striped table-bordered dataTable" cellspacing="0" width="100%">
    <thead class="thead-default">
      <th>
        <span class="btn-sm btn text-nowrap">Staatus</span>
      </th>
      <th>
        <span class="btn-sm btn text-nowrap">Infosüsteemi nimi</span>
      </th>
      <th>
        <span class="btn-sm btn text-nowrap">Lühinimi</span>
      </th>
      <th>
        <span class="btn-sm btn text-nowrap">Pealkiri</span>
      </th>
      <th>
        <span class="btn-sm btn text-nowrap">Viimane kommentaar  <i class="fa fa-sort-desc" aria-hidden="true"></i></span>
      </th>
    </thead>
    <tbody>
    <tr *ngFor="let ad of gridData.content">
      <td>
        <span *ngIf="isNewDiscussion(ad)">UUS</span>
        <span *ngIf="!isNewDiscussion(ad)"><i class="fa fa-check text-success tab-icon" aria-hidden="true"></i></span>
      </td>
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName]" fragment="tagasiside">{{ ad.infoSystemFullName}}</a></td>
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName]" fragment="tagasiside">{{ ad.infoSystemShortName }}</a></td>
      <td><a [routerLink]="['/Infosüsteemid/Vaata', ad.infoSystemShortName, 'Arutelu', ad.id]">{{ ad.title }}</a></td>
      <td>
        <div *ngIf="ad.lastComment">{{ ad.lastComment.organizationName }} ({{ ad.lastComment.authorName }})<br /> <i>{{ ad.lastComment.dateCreated | datem:'YYYY-MM-DD HH:mm:ss' }}</i></div>
        <span *ngIf="!ad.lastComment">-</span>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<div *ngIf="!loaded" class="my-1 text-center">
  <i class="fa fa-spinner fa-3x fa-spin" aria-hidden="true"></i>
</div>
