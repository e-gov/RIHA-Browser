<section class="col card p-3 main-content">
  <div class="panel-action-heading">
    Andmed
    <button *ngIf="allowEdit" (click)="openObjectsEdit()" class="btn btn-primary btn-sm pull-right"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i>&nbsp;Muuda</button>
  </div>
  <div class="form-group separate-blocks">
    <div *ngIf="(system.details.data_files && system.details.stored_data.length > 0) || allowEdit" class="separate-block">
      <label class="text-muted separated-text">Infosüsteemi kogutavad põhiandmed:</label>
      <p *ngIf="(!system.details.stored_data || system.details.stored_data.length == 0) && allowEdit">
        Objektid puuduvad
      </p>
      <table *ngIf="system.details.data_files && system.details.stored_data.length > 0" class="details-list-table">
        <tr *ngFor="let object of system.details.stored_data">
          <td>
            <i class="fa fa-circle text-primary"></i>
          </td>
          <td>
            {{ object }}
          </td>
        </tr>
    </table>
    </div>
    <div *ngIf="(system.details.data_files && system.details.data_files.length > 0) || allowEdit" class="separate-block">
      <label class="text-muted separated-text">Detailne andmekoosseis:</label>
      <p *ngIf="(!system.details.data_files || system.details.data_files.length == 0) && allowEdit">
        Failid puuduvad
      </p>
      <table *ngIf="system.details.data_files && system.details.data_files.length > 0" class="details-list-table">
        <tr *ngFor="let file of system.details.data_files">
          <td>
            <i class="fa fa-file-o text-primary"></i>
          </td>
          <td>
            <a href="{{ generalHelperService.getFileUrl(file.url) }}" target="_blank">{{ file.name }}</a>
          </td>
        </tr>
      </table>
    </div>
  </div>
</section>
